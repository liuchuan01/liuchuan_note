# Java编程规范

### 说明文档惯例

#### 32.为那些必须使用你的代码的人和那些必须维护你的代码的人编写文档

记录你代码中的公有的程序接口，这样其他人就可以正确,并且有效的地使用它.记录你代码中的私有的接口和内部实现细节，这样其他人就可以维护和改进你的代码



> 始终假设,一个完全不熟悉你写的代码的人,将不得不阅读和理解你的代码。事实上，如果足够长的时间过去了，你自己写的代码自己都会变得不熟悉，所以这个人很可能就是你



#### 33.保持注释和代码同步



当代码和注释不一致时，两者可能都是错误的，—Norm Schryer,Bell Labs



当你修改代码时，确保你也更新了任何有关的注释。代码和文档一起组成了一个软件产品，所以用相同的重要程度对待他们。

#### 34.使用 主动语态 ，省略不必要的单词

注释是某种形式的散文。有力、清晰、简洁的语言是特别有益于技术文档的.使用这种方式.



### 注释类型



JAVA支持三种注释类型：



+ 以/*  *  开头，*/结尾

+ 标准的c语言风格,以/ * 开头,* /结尾

+ 单行注释或是终点线注释(换行),以//开头,并在行尾结束

  

每种注释类型都是为了不同的用途提供的，你使用任何一种类型都应该是与用途的方式一致的

#### 35.使用文档注释来描述程序接口

你可能会将文档注释放置于,代码中出现的任何类、接口、方法,构造函数或域声明之前.这些注释提供的信息,Javadoc==实用程序==以此生成HTML格式的==类参考(引用)==或应用程序的程序接口（API）文档。为了创建此文档，Javadoc实用程序在解析一组Java源代码文件中出现的所有声明时读取这些注释。

Javadoc使用这些信息生成一组相应的HTML页面与描述，默认情况下，所有的公共类和受保护类,内部类,接口,构造函数,方法以及域都可以在这些文件中找到.



Javadoc只识别在类,接口,构造函数,方法以及域声明之前出现的文档注释. Javadoc忽略任何出现在方法内部体的文档注释.所以不要以这种方法使用它.

Javadoc 在每个声明语句块中只允许有一条文档注释,所以不要尝试在一个声明语句块中使用多个注释.



文档注释的主要目的是定义一个客户和服务供应商之间的契约式编程(编程合同).文件相关的方法应该描述所有的方法体的行为,该方法的调用方法是可靠的并且不该尝试描述实现细节



下面的代码演示了如何使用文档注释来记录

一个声明了内部类、域、方法和构造函数的类：



#### 36.使用标准注释来注释代码而不是删除它

当你想要在编译程序时暂时隐藏代码,而不是从文件中彻底删除时.使用标准c风格注释.

一块代码中没有嵌入其他注释时,你可以只是使用注释类型注释掉一块代码,



> 为了避免嵌套注释块出现任何问题，因为它们看起来非常像文档注释，所以除了暂时隐藏代码之外，你不应将此类注释用于其他任何目的。下面的代码片段演示了怎样使用此注释类型隐藏成员函数定义：



#### 37.使用一行注释来解释实现细节



使用一行或多行单行注释来描述:

+ 特殊的变量或表达式的目的

+ ==实现等级==的设计选择

+ 复杂算法的重要来源

+ 缺陷修复或解决方法
+ 需要进一步优化或精细化的代码
+ 以知的问题,限制,缺陷

==通过编写包含文档的代码==，尽量减少对嵌入注释的需求. 不要添加简单复述代码功能的注释.只有在添加有用信息时使用注释:



### 文档注释

#### 38.在编写代码之前描述编程接口

创建API查询文档的最佳时间是在开发过程的早期.使用文档或“doc'”注释来定义组成可能的设计解决方案一部分的每个类和接口的目的、用途和行为.在你对这些简介新类型的目的与基本逻辑仍记忆犹新时写下这些注释.不要认为你必须等到完成每一种方法的实现后才生成文档 .Javadoc工具可以运行包含那些方法只是简单描述而并没有方法体的存根类的Java源文件.

这意味着你可以在编写任何方法体之前的实现的早期阶段编写文档注释并运行Javadoc。

类型与方法和域的初始描述不应仅仅提供对开发人员实现该类型的指导，同时也组成了该类型的最终API查询文档的基础.

当公有接口的实现细节得更加明确和易懂时,任务是实现类的开发者可以基于原始说明文档.选择精细工作



#### 39.记录公共、受保护、包和私有成员
为所有成员提供文件注释，包括包，受保护的和私有访问的成员的。这允许生成详细的、==实现级别==的文档

在实现一个改进或修复bug之前,必须先学习并理解您的代码的开发人员

将感谢你为所有班组成员提供高质量的文档，而不仅仅是为公众提供的远见性



#### 40.为每个包提供的简要说明和概述。
Javadoc功能提供了一种在生成的文档包含包描述的机制.使用此功能可以提供您创建的每个包的摘要描述和概述。

> 要创建包的描述，你必须创建一个包注释文件,命名为package.html，并将该文件与其他的包源文件一起.放置于包文件夹下.
>
> 
>
> Javadoc将自动在该位置查找文件名.
>
> 
>
> 包注释文件包含HTML，而不是Java源代码.包描述会出现在HTML<body>元素中.
>
> Javadoc对第一个出现在<body>...</body>中的句子或短语标记为包的简要描述，就像处理普通文档注释时一样.
>
> 
>
> 除了{@link}标记之外，您可以在包描述中使用任何Javadoc标记。
> 出现在包描述中的任何@see标记都必须使用完全限定的名称。



#### 41.为每个应用程序或包组提供摘要说明和概述
Javadoc功能提供了一种在生成的文档中包含独立于包的概述简介的机制
使用这种机制提供你创建的每个应用程序或相关包组的说明。

> 要创建概述描述，必须创建概述注释文件，该文件的名称应以“.html”结尾.例如overview.html
>
> 为了将此文件包含在在您的文档中，必须使用-overview选项告诉Javadoc在哪里可以找到该文件
>
> 
>
> 概述注释文件包含HTML，不包含Java源代码。概述必须出现在HTML<body>元素中。Javadoc对显示在<body>…</body>中的句子或短语标记为应用程序或包组的的简要描述，就像处理普通文档注释时一样.
>
> 
>
> 除了{@link}标记之外，您可以在概述描述中使用任何Javadoc标记。任何
> @请参阅概述说明中出现的标记必须使用完全限定的名称。



### 注释风格

本节中列出的“doc”注释格式惯例严格遵循SUN MICROSYSTEMS通过和公布的惯例

#### 42 为所有的文档注释使用单独一致的格式与组织方式

一个正确格式的文档注释包含后跟一个或多个Javadoc标签的描述



将每个文档注释格式设为如下:

+ 缩进第一行中关联定义的第一个字符的注释,以对齐起始注释符号“/**”的斜杠字符
+ 后面的每行都以"*"开头.将星号与注释开始标志的星号对其
+ 在同一行中,使用一个单空格分割每个描述文本或是标签中的星号
+ 在一个评论块中,插入一个空格来分隔描述文本与标签
+ 使用结束注释标志"*/"结束每个文档注释块 ,中的星号与注释块中的其他星号对齐

以下的规则指定了创建高质量的,可维护的文档注释的其他的指南



#### 43.使用< code>< /code>标签包裹关键字,标识符与常量

将出现在文档注释中的关键字、包名、类名、接口名、方法名、域名、参数名、常量名和常量值放置于HTML标签<code></code>之中



<code></code>标记告诉HTML浏览器以不同的风格呈现内容,比起普通文本的样式,这些元素将更加突出。

#### 44.使用<pre></pre>标签包裹代码

将文档注释中出现的代码,放置于HTML标签<pre></pre>之中



```
<pre></pre>
```

标签全称是"preformatte"(预定义格式),这个标签用于告知HTML浏览器保持包含首行缩进,换行的原始格式



#### 45.考虑使用{@link}标记标识符的第一次出现

在文档注释中每个包、类、接口、方法和字段名第一次出现时.可以使用适当编码的{@link}标签替换该名称转换为超文本链接


不要觉得你必须创建链接,指向注释块中出现的每个标识符。使用{@link}标签创建大量这样的链接会很快让注释块变得杂乱，使读取和维护源代码变得困难。

> 仅当读者感兴趣或相关文件的引用元素真正对其有价值时创建链接。不要为每一个出现的标识符创建链接。如果一个标识符出现多次，只需为第一个标识符创建一个链接即可,使用规则(43条)中讨论的标记,标记任何后续实例.
> 此外，一些类和方法是熟练的Java程序员经常使用的,他们不再保证自有链接，这些标识符仍应标记为如第43条所示。



#### 46.为Javadoc标记建立并使用固定顺序

SUN MICROSYSTEMS推荐以下的Javadoc标签顺序

+ 在类与接口内的描述:

  ```
  /**
  * Description.
  *
  * @author
  * @version
  *
  * @see
  * @since
  * @deprecated
  */
  ```

​        考虑在每一个类或接口描述中包含一个@author与@version标签

​		按时间顺序排列多个@author标签,将类或接口创建者列在第一位



+ 在方法内的描述:

  ```
  /**
  * Description.
  *
  * @param
  * @return
  * @exception
  *
  * @see
  * @since
  * @deprecated
  */
  ```

  每个参数包含@param标签. 按变量定义顺序列出多个@param标签



​		若一个方法返回除空值外的任意值,包含一个@return标签

​		

​		为throws子句中列出的每个==checked exception(检查异常)==包含@exception标记。



​		为用户有缘由去捕捉的throws子句中列出的每个==unchecked exception(未检查异常)==包含@exception标记.按异常类名的字母顺序列出多个@exception标签.



+ 在域内的描述:

  ```
  /**
  * Description.
  *
  * @see
  * @since
  * @deprecated
  */
  ```

  根据多个@see标记与当前位置的“距离”，文件导航和名称限定条件进行排序.对每组重载方法根据每个的参数接受数量进行排序，从具有最少的参数的方法开始：

  ```
  /**
  * ...
  * @see #field
  * @see #Constructor()
  * @see #Constructor(Type...)
  * @see #method()
  * @see Class
  * @see Class#field
  */
  ```

  

#### 47.以第三人称书写

在描述类、接口和方法的用途和行为时，请使用第三种方法人称代词，如“They”和“It”——以及第三人称动词形式，如“sets”和“gets”——而不是像“set”和“get”这样的第二人称形式



API文档中常见的一些第三人称动词形式包括:

```
adds		     deallocates 		removes
allocates 		 destroys 			returns
computes		 gets 				sets
constructs		 provides 			tests
converts		 reads				writes
```



#### 48.写出独立的摘要描述。

Javadoc功能使用文档注释中的第一句话或短语作为紧随其后的类、接口、方法或字段的简要说明注释块。

为了找到摘要描述的结尾，Javadoc从注释块的开头，然后搜索一个后面是空格、制表符或换行，或Javadoc标记的句段,以先到者为准.



因为这个文本提供了对一些实体的概要描述，所以它必须对该实体的提供一个清晰的，简单、简洁的描述.不要依赖文章中的其他句子注释块提供额外的上下文或详尽的细节。

考虑下面的例子：

```
/**
* Allocates a <code>Flag</code> object
* representing the <code>value</code> argument.
* ...
*/
public Flag(boolean value) {...}
/**
* Allocates a <code>Flag</code> object
* representing the value true if the
* string argument is not null and is equal
* to the string "true".
* ...
*/
public Flag(String s) {...}
```

#### 49.在动作或服务的简要描述中省略主题。

摘要描述不需要主题，因为主题可以从该描述出现的上下文中确定。



以下描述错误地提供了主题的多余确认：



以下描述正确的省略了主题:



#### 50.在对事物的简要描述中省略主题和动词。

代表“事物”的类、接口或域的摘要描述不需要明确的主题或动词，因为描述只需要识别一个对象。
主语是不必要的，因为它可以从上下文中确定。

动词是不必要，因为它只是简单地陈述了主语“是”、“作为”或“代表”一些对象



以下例子说明了一个包含不必要的主语与动词的描述
